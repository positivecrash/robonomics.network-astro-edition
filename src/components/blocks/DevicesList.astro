---
import ModelRiskV from '../3dmodels/Server.astro';
import ModelSwitch from '../3dmodels/Switch.astro';
import ModelAltruist from '../3dmodels/Altruist.astro';

// images
import { Image } from 'astro:assets';
import Tamagotchi from "../../assets/images/hardware-2025/tamagotchi.webp"
import EnergyMonitor from "../../assets/images/hardware-2025/energy-monitor.webp"

// styles
import '../../assets/styles/components/3dmodels.css'

const products = [
  {
    code: 'altruist',
    title: 'Outdoor sensor “Altruist“',
    text: `A smart sensor that collects environmental data - noise, dust, and temperature, and stores them on a decentralized <a aria-label="see decentralized sensor map" href="https://sensors.social/" target="_blank">sensor map</a>.`,
    cases: 'Become a provider of environmental data to your friends and neighbors in the area. Access truly decentralized measurements of air quality, noise, temperature, and other environmental conditions on the sensor map.',
    casesImages: ['altruist-cases-1.webp', 'altruist-cases-2.webp', 'altruist-cases-3.webp', 'altruist-cases-4.webp'],
    titleLink: '/devices/altruist',
  },
  {
    code: 'server',
    title: 'Risc-v open source server',
    text: 'The most open-source smart home server, powered by RISC-V, with a Web3 cloud replacing Google servers under the hood.',
    cases: 'Smart WI-FI MQTT devices with open-source firmware Tasmota on the board fully compatible with Home Assistant.',
    casesImages: ['risc-v-cases-1.webp', 'risc-v-cases-2.webp', 'risc-v-cases-3.webp', 'risc-v-cases-4.webp'],
    titleLink: '/devices/risc-v',
  },
  {
    code: 'hikikomori',
    title: 'Hikikomori smart Tamagotchi',
    text: 'Finally, a smart Tamagotchi that’s more than just a game! A smart wearable station that checks the status of sensors from your home or clothing.',
    cases: 'Connect your smart home and smart clothing to the Hikikomori to monitor sensor data—right at your fingertips. Literally.',
    titleLink: '/devices/hikikomori'
  },
  {
    code: 'energy-monitor',
    title: 'Energy Monitor',
    text: 'A non-invasive device for installation in electrical panels with DIN rail mounting. Built on the Espressif ESP32C6 chip with open RISC-V architecture.',
    titleLink: '/devices/energy-monitor'
  },
];
---

<section class="products">
  {products.map((product, i) => (
    <article class="product">
      <h2>
        <span>{i + 1}</span>
        {product.titleLink ? (
          <a href={product.titleLink}>{product.title}</a>
        ) : (
          <span>{product.title}</span>
        )}
      </h2>
      {product.text && <p  set:html={product.text}></p>}
      {product.cases && (
          <h5>Use cases:</h5>
          <p>{product.cases}</p>
      )}
      <div class="product-picture">
        {product.code === 'altruist' && <ModelAltruist />}
        {product.code === 'server' && (
            <ModelRiskV classList="product-picture-server" />
            <ModelSwitch classList="product-picture-switch" />
        )}
        {product.code === 'hikikomori' && (
          <Image
            src={Tamagotchi}
            alt={`${product.title} picture`}
          />
        )}
        {product.code === 'energy-monitor' && (
          <Image
            class="product-picture--energy-monitor"
            src={EnergyMonitor}
            alt={`${product.title} picture`}
          />
        )} 
      </div>
    </article>
  ))}
</section>

<style>
  .product-picture .product-picture--energy-monitor {
    max-width: 540px;
    width: 100%;
    display: block;
    margin: 0 auto;
  }
</style>